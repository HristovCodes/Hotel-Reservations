(this["webpackJsonphotel-reservations-manager"]=this["webpackJsonphotel-reservations-manager"]||[]).push([[0],{18:function(e,t,c){},47:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(27),s=c.n(i),r=c(25),l=c(30),j=c(3),o=c(12),b=c(6),u=c(16),d=c.n(u),h=c(19),O=c(13);c(36),c(40);function p(e,t){O.a.database().ref("".concat(e,"/")).update(t).catch((function(e){return console.log("".concat(e.code,"\n").concat(e.message))}))}function x(e,t){return m.apply(this,arguments)}function m(){return(m=Object(h.a)(d.a.mark((function e(t,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.database().ref("".concat(t,"/").concat(c)).remove();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,c){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(d.a.mark((function e(t,c,n){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.database().ref("".concat(t,"/")).orderByChild(c).limitToFirst(n).once("value");case 2:if(!(a=e.sent).code){e.next=7;break}throw new Error(a.code);case 7:return i=[],a.forEach((function(e){i.push(e.val())})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(d.a.mark((function e(t,c){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.database().ref("".concat(t,"/")).orderByChild(c).once("value");case 2:if(!(n=e.sent).code){e.next=7;break}throw new Error(n.code);case 7:return a=[],n.forEach((function(e){a.push(e.val())})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O.a.initializeApp({apiKey:"AIzaSyAY0spgQbLTx1eF4UfPwzC4vUOLOiZ99LQ",authDomain:"hotel-reservations-itk.firebaseapp.com",databaseURL:"https://hotel-reservations-itk-default-rtdb.firebaseio.com",projectId:"hotel-reservations-itk",storageBucket:"hotel-reservations-itk.appspot.com",messagingSenderId:"199246928160",appId:"1:199246928160:web:7ec21b444b4660d8ec1f45"});var C={database:O.a.database,auth:O.a.auth},k=(c(18),c(0));function S(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(),s=Object(j.a)(i,2),r=s[0],l=s[1];Object(n.useEffect)((function(){c||o("id",10)}));var o=function(e,t){f("user",e,t).then((function(e){a(e)})).catch((function(e){return console.log(e)}))},b=function(e){return e?e.map((function(e){return Object(k.jsxs)("span",{children:[Object(k.jsx)("p",{children:e.id}),Object(k.jsx)("p",{children:e.username}),Object(k.jsx)("p",{children:e.firstname}),Object(k.jsx)("p",{children:e.middlename}),Object(k.jsx)("p",{children:e.lastname}),Object(k.jsx)("p",{children:e.email.slice(0,e.email.indexOf("@"))}),Object(k.jsx)("p",{children:e.phonenumber}),Object(k.jsx)("p",{children:e.dateemployed}),Object(k.jsx)("p",{children:e.active.toString()}),e.releasedate?Object(k.jsx)("p",{children:e.releasedate}):Object(k.jsx)("p",{children:"-"}),Object(k.jsx)("p",{className:"action",onClick:function(){x("user",e.id);var t=c.slice();t.splice(t.indexOf(e),1),a(t)},children:"Delete"})]},e.id)})):"Loading..."};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Add users:"}),Object(k.jsx)(N,{users:c,setUsers:a}),Object(k.jsx)("h1",{children:"Users:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(k.jsx)("input",{name:"search",type:"text",onChange:function(e){return function(e){var t=c.slice(),n=[];if(t.forEach((function(t){Object.values(t).includes(e)&&n.push(t)})),n.length>0)return l(n);l(void 0)}(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"button",onClick:function(){o("id",10)},children:"10"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("id",25)},children:"25"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("id",50)},children:"50"})]}),Object(k.jsxs)("div",{className:"list",children:[Object(k.jsxs)("span",{className:"columns",children:[Object(k.jsx)("p",{className:"clickable",onClick:function(){o("id",10)},children:"ID"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("username",10)},children:"username"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("firstname",10)},children:"firstName"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("middlename",10)},children:"middleName"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("lastname",10)},children:"lastName"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("email",10)},children:"email"}),Object(k.jsx)("p",{children:"phoneNumber"}),Object(k.jsx)("p",{children:"dateEmployed"}),Object(k.jsx)("p",{children:"active"}),Object(k.jsx)("p",{children:"dateReleased"}),Object(k.jsx)("p",{children:"Delete"})]}),b(r||c)]})]})}function N(e){var t=e.users,c=e.setUsers,a=Object(n.useState)(!1),i=Object(j.a)(a,2),s=i[0],r=i[1],l=Object(n.useState)(""),o=Object(j.a)(l,2),b=o[0],u=o[1],d=Object(n.useState)(""),h=Object(j.a)(d,2),O=h[0],x=h[1],m=Object(n.useState)(""),f=Object(j.a)(m,2),v=f[0],g=f[1],y=Object(n.useState)(""),C=Object(j.a)(y,2),S=C[0],N=C[1],F=Object(n.useState)(""),E=Object(j.a)(F,2),R=E[0],D=E[1],w=Object(n.useState)(""),A=Object(j.a)(w,2),H=A[0],L=A[1],U=Object(n.useState)(""),I=Object(j.a)(U,2),P=I[0],B=I[1],T=Object(n.useState)(""),z=Object(j.a)(T,2),q=z[0],J=z[1],M=Object(n.useState)(!1),Q=Object(j.a)(M,2),K=Q[0],W=Q[1],Y=Object(n.useState)(null),Z=Object(j.a)(Y,2),G=Z[0],V=Z[1];return s?Object(k.jsxs)("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target.reset(),b&&O&&v&&S&&R&&H&&P&&q){var n={};n[b]={id:b,username:O,firstname:v,middlename:S,lastname:R,phonenumber:H,email:P,dateemployed:q,active:K,releasedate:G},p("user",n);var a=t.slice(),i=!1;a.forEach((function(e){Object.values(e).includes(H)&&(a[a.indexOf(e)]=n[b],c(a),r(!1),i=!0)})),i||(a.push(n[b]),c(a),r(!1))}},children:[Object(k.jsx)("label",{htmlFor:"id",children:"\u0415\u0413\u041d:"}),Object(k.jsx)("input",{onChange:function(e){u(e.target.value)},name:"id",type:"text"}),Object(k.jsx)("label",{htmlFor:"username",children:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435:"}),Object(k.jsx)("input",{onChange:function(e){x(e.target.value)},name:"username",type:"text"}),Object(k.jsx)("label",{htmlFor:"firstName",children:"\u0418\u043c\u0435:"}),Object(k.jsx)("input",{onChange:function(e){g(e.target.value)},name:"firstName",type:"text"}),Object(k.jsx)("label",{htmlFor:"middleName",children:"\u0411\u0430\u0449\u0438\u043d\u043e \u0438\u043c\u0435:"}),Object(k.jsx)("input",{onChange:function(e){N(e.target.value)},name:"middleName",type:"text"}),Object(k.jsx)("label",{htmlFor:"lastName",children:"\u0424\u0430\u043c\u0438\u043b\u043d\u043e \u0438\u043c\u0435:"}),Object(k.jsx)("input",{onChange:function(e){D(e.target.value)},name:"lastName",type:"text"}),Object(k.jsx)("label",{htmlFor:"phoneNumber",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),Object(k.jsx)("input",{onChange:function(e){L(e.target.value)},name:"phoneNumber",type:"text"}),Object(k.jsx)("label",{htmlFor:"email",children:"\u0418\u043c\u0435\u0439\u043b:"}),Object(k.jsx)("input",{onChange:function(e){B(e.target.value)},name:"email",type:"text"}),Object(k.jsx)("label",{htmlFor:"dateEmployed",children:"\u0414\u0430\u0442\u0430 \u043d\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0432\u0430\u043d\u0435:"}),Object(k.jsx)("input",{onChange:function(e){J(e.target.value)},name:"dateEmployed",type:"date"}),Object(k.jsx)("label",{htmlFor:"active",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){W(!0)},name:"active",id:"act1",type:"radio",value:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"}),Object(k.jsx)("label",{htmlFor:"act1",children:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){W(!1)},name:"active",id:"act2",type:"radio",value:"\u0423\u0432\u043e\u043b\u043d\u0435\u043d"}),Object(k.jsx)("label",{htmlFor:"act2",children:"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u0435\u043d"})]}),Object(k.jsx)("label",{htmlFor:"releaseDate",children:Object(k.jsx)("span",{children:"\u041f\u0443\u0441\u043d\u0430\u0442 \u043e\u0442 \u0434\u043b\u044a\u0436\u043d\u043e\u0441\u0442 \u043d\u0430:"})}),Object(k.jsx)("input",{onChange:function(e){V(e.target.value)},name:"releaseDate",type:"date"}),Object(k.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438"})]}):Object(k.jsx)("button",{onClick:function(){r(!0)},children:"Add/Edit user"})}function F(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(),s=Object(j.a)(i,2),r=s[0],l=s[1];Object(n.useEffect)((function(){c||o("id",10)}));var o=function(e,t){f("client",e,t).then((function(e){a(e)})).catch((function(e){return console.log(e)}))},b=function(e){return e?e.map((function(e){return Object(k.jsxs)("span",{children:[Object(k.jsx)("p",{children:e.firstname}),Object(k.jsx)("p",{children:e.lastname}),Object(k.jsx)("p",{children:e.phonenumber}),Object(k.jsx)("p",{children:e.adult.toString()}),Object(k.jsx)("p",{children:e.email.slice(0,e.email.indexOf("@"))}),Object(k.jsx)("p",{className:"action",onClick:function(){x("client",e.phonenumber);var t=c.slice();t.splice(t.indexOf(e),1),a(t)},children:"Delete"})]},e.phonenumber)})):"Loading..."};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Add clients:"}),Object(k.jsx)(E,{clients:c,setClients:a}),Object(k.jsx)("h1",{children:"Clients:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(k.jsx)("input",{name:"search",type:"text",onChange:function(e){return function(e){var t=c.slice(),n=[];if(t.forEach((function(t){Object.values(t).includes(e)&&n.push(t)})),n.length>0)return l(n);l(void 0)}(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"button",onClick:function(){o("id",10)},children:"10"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("id",25)},children:"25"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("id",50)},children:"50"})]}),Object(k.jsxs)("div",{className:"list",children:[Object(k.jsxs)("span",{className:"columns",children:[Object(k.jsx)("p",{className:"clickable",onClick:function(){o("firstname",10)},children:"firstName"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("lastname",10)},children:"lastName"}),Object(k.jsx)("p",{children:"phoneNumber"}),Object(k.jsx)("p",{children:"adult"}),Object(k.jsx)("p",{children:"email"}),Object(k.jsx)("p",{children:"Delete"})]}),b(r||c)]})]})}function E(e){var t=e.clients,c=e.setClients,a=Object(n.useState)(!1),i=Object(j.a)(a,2),s=i[0],r=i[1],l=Object(n.useState)(""),o=Object(j.a)(l,2),b=o[0],u=o[1],d=Object(n.useState)(""),h=Object(j.a)(d,2),O=h[0],x=h[1],m=Object(n.useState)(""),f=Object(j.a)(m,2),v=f[0],g=f[1],y=Object(n.useState)(""),C=Object(j.a)(y,2),S=C[0],N=C[1],F=Object(n.useState)(!1),E=Object(j.a)(F,2),R=E[0],D=E[1];return s?Object(k.jsxs)("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target.reset(),b&&O&&v&&S){var n={};n[v]={firstname:b,lastname:O,phonenumber:v,email:S,adult:R},p("client",n);var a=t.slice(),i=!1;a.forEach((function(e){Object.values(e).includes(v)&&(a[a.indexOf(e)]=n[v],c(a),r(!1),i=!0)})),i||(a.push(n[v]),c(a),r(!1))}},children:[Object(k.jsx)("label",{htmlFor:"firstName",children:"\u0418\u043c\u0435:"}),Object(k.jsx)("input",{onChange:function(e){u(e.target.value)},name:"firstName",type:"text"}),Object(k.jsx)("label",{htmlFor:"lastName",children:"\u0424\u0430\u043c\u0438\u043b\u043d\u043e \u0438\u043c\u0435:"}),Object(k.jsx)("input",{onChange:function(e){x(e.target.value)},name:"lastName",type:"text"}),Object(k.jsx)("label",{htmlFor:"phoneNumber",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),Object(k.jsx)("input",{onChange:function(e){g(e.target.value)},name:"phoneNumber",type:"text"}),Object(k.jsx)("label",{htmlFor:"email",children:"\u0418\u043c\u0435\u0439\u043b:"}),Object(k.jsx)("input",{onChange:function(e){N(e.target.value)},name:"email",type:"text"}),Object(k.jsx)("label",{htmlFor:"active",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){D(!0)},name:"active",id:"act1",type:"radio",value:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"}),Object(k.jsx)("label",{htmlFor:"act1",children:"\u0412\u044a\u0437\u0440\u0430\u0441\u0442\u0435\u043d"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){D(!1)},name:"active",id:"act2",type:"radio",value:"\u0423\u0432\u043e\u043b\u043d\u0435\u043d"}),Object(k.jsx)("label",{htmlFor:"act2",children:"\u0414\u0435\u0442\u0435"})]}),Object(k.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438"})]}):Object(k.jsx)("button",{onClick:function(){r(!0)},children:"Add/Edit client"})}function R(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(),s=Object(j.a)(i,2),r=s[0],l=s[1];Object(n.useEffect)((function(){c||o("capacity",10)}));var o=function(e,t){f("room",e,t).then((function(e){a(e)})).catch((function(e){return console.log(e)}))},b=function(e){return e?e.map((function(e){return Object(k.jsxs)("span",{children:[Object(k.jsx)("p",{children:e.capacity}),Object(k.jsx)("p",{children:e.type}),Object(k.jsx)("p",{children:e.occupied.toString()}),Object(k.jsx)("p",{children:e.adult}),Object(k.jsx)("p",{children:e.kid}),Object(k.jsx)("p",{children:e.number}),Object(k.jsx)("p",{className:"action",onClick:function(){x("room",e.number);var t=c.slice();t.splice(t.indexOf(e),1),a(t)},children:"Delete"})]},e.number)})):"Loading..."};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Add rooms:"}),Object(k.jsx)(D,{rooms:c,setRooms:a}),Object(k.jsx)("h1",{children:"Rooms:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(k.jsx)("input",{name:"search",type:"text",onChange:function(e){return function(e){var t=c.slice(),n=[];if(t.forEach((function(t){Object.values(t).includes(e)&&n.push(t)})),n.length>0)return l(n);l(void 0)}(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"button",onClick:function(){o("capacity",10)},children:"10"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("capacity",25)},children:"25"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("capacity",50)},children:"50"})]}),Object(k.jsxs)("div",{className:"list",children:[Object(k.jsxs)("span",{className:"columns",children:[Object(k.jsx)("p",{className:"clickable",onClick:function(){o("capacity",10)},children:"capacity"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("type",10)},children:"type"}),Object(k.jsx)("p",{className:"clickable",onClick:function(){o("occupation",10)},children:"occupation"}),Object(k.jsx)("p",{children:"adultPrice"}),Object(k.jsx)("p",{children:"kidPrice"}),Object(k.jsx)("p",{children:"roomNumber"}),Object(k.jsx)("p",{children:"Delete"})]}),b(r||c)]})]})}function D(e){var t=e.rooms,c=e.setRooms,a=Object(n.useState)(!1),i=Object(j.a)(a,2),s=i[0],r=i[1],l=Object(n.useState)(""),o=Object(j.a)(l,2),b=o[0],u=o[1],d=Object(n.useState)(""),h=Object(j.a)(d,2),O=h[0],x=h[1],m=Object(n.useState)(!1),f=Object(j.a)(m,2),v=f[0],g=f[1],y=Object(n.useState)(""),C=Object(j.a)(y,2),S=C[0],N=C[1],F=Object(n.useState)(""),E=Object(j.a)(F,2),R=E[0],D=E[1],w=Object(n.useState)(""),A=Object(j.a)(w,2),H=A[0],L=A[1];return s?Object(k.jsxs)("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target.reset(),b&&O&&S&&R&&H){var n={};n[H]={capacity:b,type:O,occupied:v,adult:S,kid:R,number:H},p("room",n);var a=t.slice(),i=!1;a.forEach((function(e){Object.values(e).includes(H)&&(a[a.indexOf(e)]=n[H],c(a),r(!1),i=!0)})),i||(a.push(n[H]),c(a),r(!1))}},children:[Object(k.jsx)("label",{htmlFor:"capacity",children:"\u041a\u0430\u043f\u0430\u0446\u0438\u0442\u0435\u0442:"}),Object(k.jsx)("input",{onChange:function(e){u(e.target.value)},name:"capacity",type:"text"}),Object(k.jsx)("label",{htmlFor:"type",children:"\u0422\u0438\u043f:"}),Object(k.jsx)("input",{onChange:function(e){x(e.target.value)},name:"type",type:"text"}),Object(k.jsx)("label",{htmlFor:"occupied",children:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0430:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){g(!0)},name:"occupied",id:"occ1",type:"radio",value:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"}),Object(k.jsx)("label",{htmlFor:"occ1",children:"\u0414\u0430"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){g(!1)},name:"occupied",id:"occ2",type:"radio",value:"\u0423\u0432\u043e\u043b\u043d\u0435\u043d"}),Object(k.jsx)("label",{htmlFor:"occ2",children:"\u041d\u0435"})]}),Object(k.jsx)("label",{htmlFor:"adult",children:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u0432\u044a\u0437\u0440\u0430\u0441\u0442\u0435\u043d \u043d\u0430 \u043b\u0435\u0433\u043b\u043e:"}),Object(k.jsx)("input",{onChange:function(e){N(e.target.value)},name:"adult",type:"text"}),Object(k.jsx)("label",{htmlFor:"kid",children:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u0434\u0435\u0442\u0435 \u043d\u0430 \u043b\u0435\u0433\u043b\u043e:"}),Object(k.jsx)("input",{onChange:function(e){D(e.target.value)},name:"kid",type:"text"}),Object(k.jsx)("label",{htmlFor:"number",children:"\u041d\u043e\u043c\u0435\u0440 \u043d\u0430 \u0441\u0442\u0430\u044f\u0442\u0430:"}),Object(k.jsx)("input",{onChange:function(e){L(e.target.value)},name:"number",type:"text"}),Object(k.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438"})]}):Object(k.jsx)("button",{onClick:function(){r(!0)},children:"Add/Edit room"})}function w(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(),s=Object(j.a)(i,2),r=s[0],l=s[1];Object(n.useEffect)((function(){c||o("capacity",10)}));var o=function(e,t){f("reservation",e,t).then((function(e){a(e)})).catch((function(e){return console.log(e)}))},b=function(e){return e?e.map((function(e){return Object(k.jsxs)("span",{children:[Object(k.jsx)("p",{children:e.roomnum}),Object(k.jsx)("p",{children:e.usercreated.id}),Object(k.jsx)("p",{children:e.price}),Object(k.jsx)("div",{children:Object.values(e.occupants).map((function(e){return Object(k.jsx)("p",{children:"".concat(e.firstname," ").concat(e.lastname)})}))}),Object(k.jsx)("p",{children:e.dateaccommodation}),Object(k.jsx)("p",{children:e.daterelease}),Object(k.jsx)("p",{children:e.breakfast.toString()}),Object(k.jsx)("p",{children:e.allinclusive.toString()}),Object(k.jsx)("p",{className:"action",onClick:function(){x("reservation","".concat(e.dateaccommodation," | ").concat(e.roomnum));var t=c.slice();t.splice(t.indexOf(e),1),a(t)},children:"Delete"})]},"".concat(e.dateaccommodation).concat(e.roomnum))})):"Loading..."};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Add reservations:"}),Object(k.jsx)(A,{reservations:c,setReservations:a}),Object(k.jsx)("h1",{children:"Reservations:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(k.jsx)("input",{name:"search",type:"text",onChange:function(e){return function(e){var t=c.slice(),n=[];if(t.forEach((function(t){Object.values(t).includes(e)&&n.push(t)})),n.length>0)return l(n);l(void 0)}(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"button",onClick:function(){o("roomnum",10)},children:"10"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("roomnum",25)},children:"25"}),Object(k.jsx)("button",{type:"button",onClick:function(){o("roomnum",50)},children:"50"})]}),Object(k.jsxs)("div",{className:"list",children:[Object(k.jsxs)("span",{className:"columns",children:[Object(k.jsx)("p",{children:"roomNum"}),Object(k.jsx)("p",{children:"userCreated"}),Object(k.jsx)("p",{children:"price"}),Object(k.jsx)("p",{children:"occupants"}),Object(k.jsx)("p",{children:"dateAccommodation"}),Object(k.jsx)("p",{children:"dateRelease"}),Object(k.jsx)("p",{children:"breakfast"}),Object(k.jsx)("p",{children:"allInclusive"}),Object(k.jsx)("p",{children:"Delete"})]}),b(r||c)]})]})}function A(e){var t=e.reservations,c=e.setReservations,a=Object(n.useState)(!1),i=Object(j.a)(a,2),s=i[0],r=i[1],l=Object(n.useState)(""),o=Object(j.a)(l,2),b=o[0],u=o[1],d=Object(n.useState)(),h=Object(j.a)(d,2),O=h[0],x=h[1],m=Object(n.useState)(),f=Object(j.a)(m,2),v=f[0],y=f[1],S=Object(n.useState)(),N=Object(j.a)(S,2),F=N[0],E=N[1],R=Object(n.useState)(""),D=Object(j.a)(R,2),w=D[0],A=D[1],H=Object(n.useState)(),L=Object(j.a)(H,2),U=L[0],I=L[1],P=Object(n.useState)([]),B=Object(j.a)(P,2),T=B[0],z=B[1],q=Object(n.useState)(""),J=Object(j.a)(q,2),M=J[0],Q=J[1],K=Object(n.useState)(""),W=Object(j.a)(K,2),Y=W[0],Z=W[1],G=Object(n.useState)(!1),V=Object(j.a)(G,2),X=V[0],$=V[1],_=Object(n.useState)(!1),ee=Object(j.a)(_,2),te=ee[0],ce=ee[1];Object(n.useEffect)((function(){(O||g("user","id").then((function(e){x(e)})),!U&&O)&&O.slice().forEach((function(e){e.email===C.auth().currentUser.email&&I(e)}));v||g("client","phonenumber").then((function(e){y(e)})),F||g("room","phonenumber").then((function(e){E(e)}))}));return s?Object(k.jsxs)("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target.reset(),w&&U&&T&&M&&Y){var n=Math.floor((Date.parse(Y)-Date.parse(M))/864e5),a=0;F.forEach((function(e){e.number===w&&T.forEach((function(t){t.adult?a+=e.adult-0:a+=e.kid-0}))})),te&&(a*=1.5),X&&(a*=1.1),a*=n;var i={};i["".concat(M," | ").concat(w)]={roomnum:w,usercreated:U,occupants:T.reduce((function(e,t){return e[t.phonenumber]=t,e}),{}),dateaccommodation:M,daterelease:Y,breakfast:X,allinclusive:te,price:a.toFixed(2)},p("reservation",i);var s=t.slice(),l=!1;s.forEach((function(e){Object.values(e).includes("".concat(M," | ").concat(w))&&(s[s.indexOf(e)]=i["".concat(M," | ").concat(w)],c(s),r(!1),z([]),l=!0)})),l||(s.push(i["".concat(M," | ").concat(w)]),c(s),r(!1),z([]))}},children:[Object(k.jsx)("label",{htmlFor:"roomnum",children:"\u041d\u043e\u043c\u0435\u0440 \u043d\u0430 \u0441\u0442\u0430\u044f\u0442\u0430:"}),Object(k.jsx)("input",{onChange:function(e){A(e.target.value)},name:"roomnum",type:"text"}),Object(k.jsx)("label",{htmlFor:"occupants",children:"\u0421\u043f\u0438\u0441\u044a\u043a \u0441 \u043d\u0430\u0441\u0442\u0430\u043d\u0435\u043d\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0438: *\u0442\u044a\u0440\u0441\u0435\u043d\u0435\u0442\u043e \u0441\u0442\u0430\u0432\u0430 \u043f\u043e \u043f\u044a\u0440\u0432\u043e \u0438\u043b\u0438 \u0444\u0430\u043c\u0438\u043b\u043d\u043e \u0438\u043c\u0435*"}),Object(k.jsx)("input",{onChange:function(e){u(e.target.value)},name:"occupants",type:"search"}),Object(k.jsx)("button",{onClick:function(){v.slice().forEach((function(e){if(Object.values(e).includes(b)&&!T.includes(e)){var t=T.slice();t.push(e),z(t)}}))},type:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438"}),T.map((function(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"".concat(e.firstname," ").concat(e.lastname)}),Object(k.jsx)("button",{onClick:function(){var t=T.slice();t.splice(t.indexOf(e),1),z(t)},type:"button",children:"\u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430"})]},e.phonenumber)})),Object(k.jsx)("label",{htmlFor:"dateaccomodation",children:"\u0414\u0430\u0442\u0430 \u043d\u0430 \u043d\u0430\u0441\u0442\u0430\u043d\u044f\u0432\u0430\u043d\u0435:"}),Object(k.jsx)("input",{onChange:function(e){Q(e.target.value)},name:"dateaccomodation",type:"date"}),Object(k.jsx)("label",{htmlFor:"daterelease",children:"\u0414\u0430\u0442\u0430 \u043d\u0430 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u0432\u0430\u043d\u0435:"}),Object(k.jsx)("input",{onChange:function(e){Z(e.target.value)},name:"daterelease",type:"date"}),Object(k.jsx)("label",{htmlFor:"breakfast",children:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0437\u0430\u043a\u0443\u0441\u043a\u0430:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){$(!0)},name:"breakfast",id:"brkf1",type:"radio"}),Object(k.jsx)("label",{htmlFor:"brkf1",children:"\u0414\u0430"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){$(!1)},name:"breakfast",id:"brkf2",type:"radio"}),Object(k.jsx)("label",{htmlFor:"brkf2",children:"\u041d\u0435"})]}),Object(k.jsx)("label",{htmlFor:"allinclusive",children:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d allinclusive:"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){ce(!0)},name:"allinclusive",id:"alli1",type:"radio"}),Object(k.jsx)("label",{htmlFor:"alli1",children:"\u0414\u0430"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{onChange:function(e){ce(!1)},name:"allinclusive",id:"alli2",type:"radio"}),Object(k.jsx)("label",{htmlFor:"alli2",children:"\u041d\u0435"})]}),Object(k.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438"})]}):Object(k.jsx)("button",{onClick:function(){r(!0)},children:"Add/Edit reservation"})}function H(){return Object(k.jsx)("div",{children:"Error404"})}function L(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(j.a)(i,2),r=s[0],l=s[1],o=Object(b.g)();return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"Hotel Reservations"}),Object(k.jsx)("h2",{children:"\u041c\u043e\u043b\u044f \u0432\u043b\u0435\u0437\u0442\u0435 \u0432\u044a\u0432 \u0432\u0430\u0448\u0438\u044f\u0442 \u0430\u043a\u0430\u0443\u043d\u0442"}),Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C.auth().signInWithEmailAndPassword(c,r).then((function(){C.auth().onAuthStateChanged((function(e){e&&o.replace("/Hotel-Reservations/")}))})).catch((function(e){console.log(e.code),console.log(e.message)}))},children:[Object(k.jsx)("input",{onChange:function(e){return a(e.target.value)},required:!0,type:"email",placeholder:"examplemail@provider.com"}),Object(k.jsx)("input",{onChange:function(e){return l(e.target.value)},required:!0,placeholder:"password",type:"password"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"button",children:Object(k.jsx)("img",{})}),Object(k.jsx)("p",{children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u043c\u0435"})]}),Object(k.jsx)("button",{type:"submit",children:"\u0412\u0445\u043e\u0434"})]})]})}function U(){return Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(o.b,{to:"/Hotel-Reservations/User",children:"Users Database"})}),Object(k.jsx)("li",{children:Object(k.jsx)(o.b,{to:"/Hotel-Reservations/Client",children:"Clients Database"})}),Object(k.jsx)("li",{children:Object(k.jsx)(o.b,{to:"/Hotel-Reservations/Room",children:"Rooms Database"})}),Object(k.jsx)("li",{children:Object(k.jsx)(o.b,{to:"/Hotel-Reservations/Reservation",children:"Reservations Database"})})]})}c(47),c(48);function I(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){C.auth().onAuthStateChanged((function(e){a(e||"anon")}))})),c?Object(k.jsx)(o.a,{children:Object(k.jsx)("div",{className:"main",children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:"/",children:Object(k.jsx)(b.a,{to:"/Hotel-Reservations/"})}),Object(k.jsx)(P,{user:c,exact:!0,path:"/Hotel-Reservations/",children:Object(k.jsx)(U,{})}),Object(k.jsx)(P,{user:c,path:"/Hotel-Reservations/User",children:Object(k.jsx)(S,{})}),Object(k.jsx)(P,{user:c,path:"/Hotel-Reservations/Client",children:Object(k.jsx)(F,{})}),Object(k.jsx)(P,{user:c,path:"/Hotel-Reservations/Room",children:Object(k.jsx)(R,{})}),Object(k.jsx)(P,{user:c,path:"/Hotel-Reservations/Reservation",children:Object(k.jsx)(w,{})}),Object(k.jsx)(b.b,{path:"/Hotel-Reservations/Login",children:Object(k.jsx)(L,{})}),Object(k.jsx)(b.b,{path:"*",children:Object(k.jsx)(H,{})})]})})}):Object(k.jsx)("div",{children:"Loading..."})}function P(e){var t=e.user,c=e.children,n=Object(l.a)(e,["user","children"]);return Object(k.jsx)(b.b,Object(r.a)(Object(r.a)({},n),{},{children:"anon"!==t&&t?c:Object(k.jsx)(b.a,{to:"/Hotel-Reservations/Login"})}))}var B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(I,{})}),document.getElementById("root")),B()}},[[49,1,2]]]);
//# sourceMappingURL=main.6a67b0e1.chunk.js.map